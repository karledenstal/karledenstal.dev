---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PageHeader from '../../components/PageHeader.astro';
import Subtitle from '../../components/Subtitle.astro';
import { List } from '../../components/table/Table';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
const data = projects.map(({ data, slug }) => ({
  ...data,
  slug: slug as string,
}));
---

<BaseLayout pageTitle="Career & Projects">
  <main class="py-28 w-full max-w-sm lg:max-w-5xl mx-auto">
    <PageHeader headline="Projects">
      <Subtitle text="Explore projects I've worked on during my career." />
    </PageHeader>
    <List client:load data={data} />
  </main>
</BaseLayout>
